# Deep Research Pipeline

Detailed procedures for the 5-phase research pipeline.

## Phase 1: Query Expansion

Analyze the query to:
1. Identify the core topic and intent
2. Generate 2-4 related sub-queries for comprehensive coverage
3. Identify relevant technical domains (frameworks, languages, tools)

## Phase 2: Multi-Source Gathering

Collect information from multiple sources in parallel:

### 1. Web Search (`WebSearch` tool)
- Search for recent articles, tutorials, and discussions
- Focus on authoritative sources (official docs, reputable blogs)

### 2. Context7 Documentation (`resolve-library-id` + `query-docs`)
- If the topic involves a library/framework, query Context7
- Get up-to-date API documentation and examples

### 3. Matrix Memory (`matrix_recall`)
- Search for relevant past solutions and patterns
- Include related failures to avoid

### 4. GitHub Repositories
- For implementation patterns, use `/matrix:clone-repo` to clone and explore authoritative repos

### 5. Additional Sources (for exhaustive depth)
- GitHub Issues/Discussions via `gh` CLI
- Stack Overflow via web search

## Phase 3: Content Fetching

For promising URLs from web search:
1. Use `WebFetch` to retrieve full content
2. Extract key information and code examples
3. Note the source for citations

## Phase 4: Synthesis

Combine all gathered information:
1. Deduplicate overlapping information
2. Organize by subtopic/theme
3. Identify consensus vs. conflicting approaches
4. Highlight best practices and anti-patterns
5. Include relevant code examples

## Phase 5: Output

Generate a polished markdown document:

```markdown
# Research: [Topic]

> Generated by Matrix Deep Research on [date]
> Depth: [quick|standard|exhaustive]

## Summary
[2-3 sentence overview]

## Key Findings
### [Subtopic 1]
[Content with code examples]

### [Subtopic 2]
[Content with code examples]

## Best Practices
- [Practice 1]
- [Practice 2]

## Common Pitfalls
- [Pitfall 1]
- [Pitfall 2]

## Code Examples
[Consolidated, working examples]

## Sources
1. [Source 1](url)
2. [Source 2](url)
...
```
